<div class="bg-light-grey">
  <div class="p-3">
    <span class="material-icons d-block text-right text-lg text-link text-grey semi-bold" (click)="close()">close</span>
    <div class="d-block">
      <div class="ml-4">
        <img class="img-fluid" src="../../../assets/logo.png" alt="" style="width: 180px; height: 120px;">
      </div>
    </div>
    <span class="d-block mb-5 text-grey text-center bold mt-2">Add Organization</span>
    <div class="center-parent" style="height: max-content;">
      <div class="row px-3 justify-content-center">
        <div class="col-sm-9 mx-3">
          <div class="w-100 d-flex justify-content-center">
            <div class="vertical-center">
              <div class="">
                <div class="w-100 d-flex justify-content-center">
                  <input type="file" accept=".png, .jpg, .jpeg" (change)='uploadImage($event,1)'
                    class="position-absolute w-25 h-25" style="opacity: 0 !important;" />
                  <span class="rounded-circle mx-auto text-center material-icons pt-3 text-grey text-md"
                    *ngIf="!userPhoto"
                    style="border-style: dashed; height: 70px !important; width: 70px !important; border-color: rgb(129, 129, 129);">photo</span>
                  <img *ngIf="userPhoto" class="img-fulid rounded-circle"
                    style="height: 70px !important; width: 70px !important;" src="{{userPhoto}}" alt="">
                </div>
                <span class="d-block text-smd text-bold text-center my-2 mb-5">User Photo</span>
              </div>
            </div>
          </div>
          <div class="mt-4 row d-flex justify-content-center" [formGroup]="detailForm">
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Name</mat-label>
                <input matInput placeholder="Enter name" class="p-0" formControlName='name'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Phone number</mat-label>
                <span matPrefix>+91 &nbsp;</span>
                <input matInput type="tel" placeholder="Enter email" class="p-0" formControlName='mobile'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Email</mat-label>
                <input matInput placeholder="Enter email" class="p-0" formControlName='email'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Alternate contact number</mat-label>
                <input matInput placeholder="Enter email" class="p-0" formControlName='alternateNumber'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
            </div>
            <div class="col-sm-12 my-3 text-grey">
              <h5 class="text-center">Organization Details</h5>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Organization name</mat-label>
                <input formControlName='organizationName' matInput placeholder="Enter Organization name" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Organization field</mat-label>
                <input formControlName='field' matInput placeholder="Enter Organization field" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Contact number</mat-label>
                <span matPrefix>+91 &nbsp;</span>
                <input formControlName='organizationMobile' matInput placeholder="Enter contact number" type="tel"
                  class="p-0" value='psj'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">organizationEmail</mat-label>
                <input formControlName='organizationEmail' matInput placeholder="Enter email" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Address line one</mat-label>
                <input formControlName='addressLineOne' matInput placeholder="Enter Address line one" class="p-0"
                  value='psj'>
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Address line two</mat-label>
                <input formControlName='addressLineTwo' matInput placeholder="Address line two" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">City</mat-label>
                <input formControlName='city' matInput placeholder="Enter city" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 mx-3 mb-2">
              <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
                <mat-label class="p-0">Pincode</mat-label>
                <input formControlName='pincode' matInput type="number" placeholder="Enter email" class="p-0">
                <mat-error>Required field*</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4 my-2">
              <div class="w-100 d-flex justify-content-center">
                <input type="file" accept=".png, .jpg, .jpeg" (change)='uploadImage($event)'
                  class="position-absolute w-25 h-25" style="opacity: 0 !important;" />
                <span class="rounded-circle mx-auto text-center material-icons pt-3 text-grey text-md"
                  *ngIf="!organizationLogo"
                  style="border-style: dashed; height: 70px !important; width: 70px !important; border-color: rgb(129, 129, 129);">photo</span>
                <img *ngIf="organizationLogo" class="img-fulid rounded-circle"
                  style="height: 70px !important; width: 70px !important;" src="{{organizationLogo}}" alt="">
              </div>
              <span class="d-block text-smd text-bold text-center mt-2">LOGO</span>
            </div>
            <div class="col-sm-12 my-3 text-grey">
              <h5 class="text-center">Documents</h5>
            </div>
            <div class="d-flex justify-content-center vertical-center">
              <div class="px-0 my-2 mx-2" style="width: 90px;" *ngFor="let doc of documentsArray; index as i">
                <div class="d-flex justify-content-end my-1">
                  <span class=" material-icons text-smd text-grey text-link mr-2"
                    (click)='editDocument(doc, i, add)'>edit</span>
                  <span class=" material-icons text-smd text-grey text-link" (click)="deleteDocument(i)">delete</span>
                </div>
                <img class="img-fulid" style="height: 100px !important; width: 90px !important; border-radius: 7px;"
                  src="{{doc.frontPhoto}}" alt="">
                <div class="text-grey text-sm text-center text-overflow">{{doc.type}}</div>
              </div>
              <div class="text-sm text-primary text-link semi-bold" (click)="addDocument(add)">
                + Add Document
              </div>
            </div>
            <div class="col-sm-11 d-flex justify-content-end mb-4 mt-3">
              <span class="text-danger text-sm semi-bold">{{message}}</span>
              <ion-spinner color="primary" *ngIf="isServiceRunning"></ion-spinner>
              <button type="submit" *ngIf="!isServiceRunning"
                class=" ml-2 btn btn-primary p-0 text-smd bg-violet px-4 mr-2" (click)="save()">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #add>
  <div class="bg-white box-shadow p-2" style="border-radius: 10px;">
    <div class="p-4 w-100">
      <span class="text-center d-block mb-3 text-smd w-100 text-grey semi-bold">Add Document</span>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Select Document type</mat-label>
          <mat-select [(value)]="documentType">
            <mat-option>None</mat-option>
            <mat-option value="Aadhar card">Aadhar card</mat-option>
            <mat-option value="Pan Card">Pan Card</mat-option>
            <mat-option value="Company Registration Certificate">Registration Certificate</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <span class='d-block text-right text-sm bold text-danger' *ngIf="!documentType && documentFormSubmitted">This
        field is required</span>
      <div class="row justify-content-start">
        <div class="px-0 my-2 mx-2">
          <input type="file" accept=".png, .jpg, .jpeg" (change)='uploadImage($event,2)'
            class="position-absolute w-25 h-25" style="opacity: 0 !important;" />
          <span class="mx-auto bg-secondary text-center p-4 material-icons text-grey text-md" *ngIf="!frontPhoto"
            style="border-radius: 7px;">photo</span>
          <img class="img-fulid" *ngIf="frontPhoto"
            style="height: 100px !important; width: 90px !important; border-radius: 7px;" src="{{frontPhoto}}" alt="">
          <div class="text-grey text-sm text-center w-100">Front</div>
        </div>
        <div class="px-0 my-2 mx-2">
          <input type="file" accept=".png, .jpg, .jpeg" (change)='uploadImage($event,3)'
            class="position-absolute w-25 h-25" style="opacity: 0 !important;" />
          <span class="mx-auto bg-secondary text-center p-4 material-icons text-grey text-md" *ngIf="!backPhoto"
            style="border-radius: 7px;">photo</span>
          <img class="img-fulid" *ngIf="backPhoto"
            style="height: 100px !important; width: 90px !important; border-radius: 7px;" src="{{backPhoto}}" alt="">
          <div class="text-grey text-sm text-center w-100">Back</div>
        </div>
      </div>
      <span class='d-block text-right text-sm bold text-danger' *ngIf="!frontPhoto && documentFormSubmitted">Front image
        is required</span>
    </div>
    <div class="col-sm-12 d-flex justify-content-end mt-3">
      <button class="btn btn-primary p-0 text-smd bg-violet px-4 mr-2" (click)="addDoc()">Add</button>
      <button class="btn btn-secondary bg-grey p-0 text-smd px-3 mr-2" (click)="cancel()">Cancel</button>
    </div>
  </div>
</ng-template>